(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{19:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n.n(r),o=n(14),a=n.n(o),u=(n(19),n(3)),i=n(4),s=n.n(i),d="/api/persons",l={getAll:function(){return s.a.get(d).then((function(e){return e.data}))},create:function(e){return s.a.post(d,e).then((function(e){return e.data}))},update:function(e,t){return s.a.put("".concat(d,"/").concat(e),t).then((function(e){return e.data}))},deletePerson:function(e){return s.a.delete("".concat(d,"/").concat(e)).then((function(e){return e.data}))}},b=n(0),j=function(e){return Object(b.jsxs)("form",{onSubmit:e.addPerson,children:[Object(b.jsxs)("div",{children:["Name: ",Object(b.jsx)("input",{required:!0,value:e.newName,onChange:e.onChangeName})]}),Object(b.jsxs)("div",{children:["Number: ",Object(b.jsx)("input",{value:e.newNumber,onChange:e.onChangeNumber}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{type:"submit",children:"Add"})]})]})},h=function(e){return Object(b.jsxs)("div",{children:["Who you gonna call? ",Object(b.jsx)("input",{type:"search",value:e.searchName,onChange:e.onChange})]})},f=function(e){return Object(b.jsxs)("li",{children:[e.name," ",e.number,Object(b.jsx)(m,{deleteContact:e.deleteContact})]})},m=function(e){return Object(b.jsx)("button",{type:"click",onClick:e.deleteContact,disabled:"",children:"Delete"})},O=function(e){var t=e.messageOk;return null===t?null:Object(b.jsxs)("div",{style:{color:"green",fontStyle:"italic",fontSize:15,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},children:[" ",t," "]})},g=function(e){var t=e.messageErr;return null===t?null:Object(b.jsxs)("div",{style:{color:"red",background:"lightgrey",fontStyle:"bold",fontSize:15,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},children:[" ",t," "]})},p=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(""),a=Object(u.a)(o,2),i=a[0],s=a[1],d=Object(r.useState)(""),m=Object(u.a)(d,2),p=m[0],x=m[1],v=Object(r.useState)(""),w=Object(u.a)(v,2),y=w[0],C=w[1],N=Object(r.useState)(null),S=Object(u.a)(N,2),k=S[0],P=S[1],A=Object(r.useState)(null),E=Object(u.a)(A,2),B=E[0],z=E[1],D="'".concat(i,"' updated to Phonebook!");Object(r.useEffect)((function(){l.getAll().then((function(e){return c(e)}))}),[]);var J=n.filter((function(e){return e.name.toLowerCase().includes(y.toLowerCase())}));return Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Phonebook"}),Object(b.jsx)(h,{onChange:function(e){C(e.target.value)},searchName:y}),Object(b.jsx)("h3",{children:"Add new"}),Object(b.jsx)(j,{addPerson:function(e){e.preventDefault();var t={name:i,number:p},r=n.find((function(e){return e.name===i}));r?window.confirm("".concat(i," already exists, do you want to replace the old number with the new one?"))&&l.update(r.id,t).then((function(e){c(n.map((function(t){return t.id!==r.id?t:e})),P(D))})).catch((function(e){z(e.response.data.error)})):l.create(t).then((function(e){c(n.concat(e)),P(D)})).catch((function(e){z(e.response.data.error)})),s(""),x(""),setTimeout((function(){P(null)}),3e3),setTimeout((function(){z(null)}),3e3)},onChangeName:function(e){s(e.target.value)},onChangeNumber:function(e){x(e.target.value)},newName:i,newNumber:p}),Object(b.jsx)(g,{messageErr:B}),Object(b.jsx)(O,{messageOk:k}),Object(b.jsx)("h3",{children:"Numbers"}),0===J.length?"No results":Object(b.jsx)("ul",{children:J.map((function(e){return Object(b.jsx)(f,{name:e.name,number:e.number,deleteContact:function(){return t=e.name,r=e.id,void(window.confirm("Are you sure you want to delete ".concat(t,"?"))&&l.deletePerson(r).then(c(n.filter((function(e){return e.id!==r})))));var t,r}},e.name)}))})]})};a.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(p,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.498a9f9e.chunk.js.map