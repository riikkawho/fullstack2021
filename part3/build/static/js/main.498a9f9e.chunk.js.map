{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","service","getAll","axios","get","then","response","data","create","personObject","post","update","personId","put","deletePerson","delete","InfoForm","props","onSubmit","addPerson","required","value","newName","onChange","onChangeName","newNumber","onChangeNumber","type","Search","searchName","PersonInfo","name","number","deleteContact","Button","onClick","disabled","NotificationOk","messageOk","style","color","fontStyle","fontSize","borderStyle","borderRadius","padding","marginBottom","NotificationError","messageErr","background","App","useState","persons","setPersons","setNewName","setNewNumber","setSearchName","setMessageOk","setMessageErr","successMessage","useEffect","personsService","personsList","filterer","filter","person","toLowerCase","includes","event","target","preventDefault","alreadyExists","find","window","confirm","id","returnedPerson","map","catch","error","newPerson","concat","setTimeout","length","personName","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.498a9f9e.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\n\r\nconst getAll = () => {\r\n  const request =  axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = personObject => {\r\n  const request = axios.post(baseUrl, personObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (personId, personObject) => {\r\n  const request = axios.put(`${baseUrl}/${personId}`, personObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (personId) => {\r\n    const request = axios.delete(`${baseUrl}/${personId}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst service = { getAll, create, update, deletePerson }\r\nexport default service;","import React, { useState, useEffect } from 'react'\nimport personsService from './services/persons'\n\nconst InfoForm = (props) => {\n  return (\n  <form onSubmit={props.addPerson}>\n    <div>\n      Name: <input \n      required={true}\n      value={props.newName}\n      onChange={props.onChangeName}\n      />\n    </div>\n    <div>\n      Number: <input \n      value={props.newNumber}\n      onChange={props.onChangeNumber}\n      />\n      <br/>\n      <button type=\"submit\">Add</button>  \n    </div>\n  </form>\n  )\n}\n\nconst Search = (props) => {\n  return (\n  <div>\n    Who you gonna call? <input \n    type=\"search\"\n    value={props.searchName}\n    onChange={props.onChange}\n    />  \n  </div>\n  )\n}\n\nconst PersonInfo = (props) => {\nreturn (\n    <li>{props.name} {props.number}\n    <Button deleteContact={props.deleteContact}/></li>  \n  )\n}\n\nconst Button = (props) => {\n  return (\n    <button type=\"click\" \n    onClick={props.deleteContact}\n    disabled=''\n    >Delete</button>\n  )\n}\n\nconst NotificationOk = ({ messageOk }) => {\n\n  const successStyle = {\n    color: 'green',\n    fontStyle: 'italic',\n    fontSize: 15,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\n if (messageOk === null)\n  return null\n      \n  return (\n    <div style={successStyle}> {messageOk} </div>\n  )  \n}\n\nconst NotificationError = ({ messageErr }) => {\n  const errorStyle = {    \n    color: 'red',\n    background: 'lightgrey',\n    fontStyle: 'bold',\n    fontSize: 15,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n    }\n\n  if (messageErr === null)\n    return null\n  \n  return (\n    <div style={errorStyle}> {messageErr} </div>\n  )\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [searchName, setSearchName] = useState('')\n  const [messageOk, setMessageOk] = useState(null)\n  const [messageErr, setMessageErr] = useState(null)\n\n  const successMessage = `'${newName}' updated to Phonebook!`\n  \n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(personsList => setPersons(personsList))\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n  \n    const alreadyExists = persons\n      .find(person => person.name === newName)\n    \n    if (alreadyExists) {\n\n      if (window.confirm(`${newName} already exists, do you want to replace the old number with the new one?`))\n      { \n        personsService\n        .update(alreadyExists.id, personObject)\n        .then(returnedPerson => {\n          setPersons(persons\n            .map(person => person.id !== alreadyExists.id ? person : returnedPerson),\n          setMessageOk(successMessage))\n        })\n        .catch(error => {\n          setMessageErr(error.response.data.error)\n        })\n      }\n    } else {\n        personsService.create(personObject)\n          .then(newPerson => {\n            setPersons(persons.concat(newPerson))\n            setMessageOk(successMessage)\n          })   \n            .catch(error => {\n              setMessageErr(error.response.data.error)\n              \n          })     \n      }\n\n    setNewName('')\n    setNewNumber('')\n    setTimeout(() => {\n      setMessageOk(null)\n    }, 3000)\n    setTimeout(() => {\n      setMessageErr(null)\n    }, 3000)\n  } \n\n  const deleteContact = (personName, personId) => {\n    if (window.confirm(`Are you sure you want to delete ${personName}?`)) {\n      personsService\n        .deletePerson(personId)\n        .then(setPersons(persons.filter(person => person.id !== personId)))\n    }\n  }\n\n  const filterer = persons.filter(person => person.name.toLowerCase().includes(searchName.toLowerCase()))\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleSearch = (event) => {\n    setSearchName(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Search \n      onChange={handleSearch}\n      searchName={searchName}\n      />\n\n      <h3>Add new</h3>\n      <InfoForm \n      addPerson={addPerson}\n      onChangeName={handleNameChange}\n      onChangeNumber={handleNumberChange}\n      newName={newName}\n      newNumber={newNumber}/>\n        \n      <NotificationError\n      messageErr={messageErr}/>\n      <NotificationOk\n      messageOk={messageOk}/>\n\n      <h3>Numbers</h3>\n      {filterer.length === 0\n      ? \"No results\"\n      : <ul>\n          {filterer.map(person => {\n            return (\n              <PersonInfo \n              key={person.name} \n              name={person.name} \n              number={person.number}\n              deleteContact={() => deleteContact(person.name, person.id)}\n              />\n            )\n          })}\n        </ul>\n        }\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)"],"sourceRoot":""}